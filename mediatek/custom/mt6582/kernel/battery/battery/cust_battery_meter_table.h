#ifndef _CUST_BATTERY_METER_TABLE_H
#define _CUST_BATTERY_METER_TABLE_H

#include <mach/mt_typedefs.h>

// ============================================================
// define
// ============================================================
#define BAT_NTC_10 1
#define BAT_NTC_47 0

#if (BAT_NTC_10 == 1)
#define RBAT_PULL_UP_R             16900	
#define RBAT_PULL_DOWN_R		   27000	
#endif

#if (BAT_NTC_47 == 1)
#define RBAT_PULL_UP_R             61900	
#define RBAT_PULL_DOWN_R		  100000	
#endif
#define RBAT_PULL_UP_VOLT          1800



// ============================================================
// ENUM
// ============================================================

// ============================================================
// structure
// ============================================================

// ============================================================
// typedef
// ============================================================
typedef struct _BATTERY_PROFILE_STRUC
{
    kal_int32 percentage;
    kal_int32 voltage;
} BATTERY_PROFILE_STRUC, *BATTERY_PROFILE_STRUC_P;

typedef struct _R_PROFILE_STRUC
{
    kal_int32 resistance; // Ohm
    kal_int32 voltage;
} R_PROFILE_STRUC, *R_PROFILE_STRUC_P;

typedef enum
{
    T1_0C,
    T2_25C,
    T3_50C
} PROFILE_TEMPERATURE;

// ============================================================
// External Variables
// ============================================================

// ============================================================
// External function
// ============================================================

// ============================================================
// <DOD, Battery_Voltage> Table
// ============================================================
#if (BAT_NTC_10 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,67790},
        {-15,53460},
        {-10,42450},
        { -5,33930},
        {  0,27280},
        {  5,22070},
        { 10,17960},
        { 15,14700},
        { 20,12090},
        { 25,10000},
        { 30,8310},
        { 35,6940},
        { 40,5830},
        { 45,4910},
        { 50,4160},
        { 55,3540},
        { 60,3020}
    };
#endif

#if (BAT_NTC_47 == 1)
    BATT_TEMPERATURE Batt_Temperature_Table[] = {
        {-20,483954},
        {-15,360850},
        {-10,271697},
        { -5,206463},
        {  0,158214},
        {  5,122259},
        { 10,95227},
        { 15,74730},
        { 20,59065},
        { 25,47000},
        { 30,37643},
        { 35,30334},
        { 40,24591},
        { 45,20048},
        { 50,16433},
        { 55,13539},
        { 60,11210}        
    };
#endif

// T0 -10C
BATTERY_PROFILE_STRUC battery_profile_t0[] =
{
	{0 , 4328},
	{2 , 4307},
	{3 , 4287},
	{5 , 4269},
	{7 , 4250},
	{9 , 4232},
	{10 , 4213},
	{12 , 4195},
	{14 , 4177},
	{16 , 4160},
	{17 , 4142},
	{19 , 4125},
	{21 , 4108},
	{23 , 4092},
	{24 , 4078},
	{26 , 4059},
	{28 , 4027},
	{30 , 4000},
	{31 , 3977},
	{33 , 3961},
	{35 , 3948},
	{37 , 3935},
	{38 , 3923},
	{40 , 3910},
	{42 , 3898},
	{44 , 3887},
	{45 , 3876},
	{47 , 3865},
	{49 , 3856},
	{51 , 3846},
	{52 , 3838},
	{54 , 3829},
	{56 , 3821},
	{58 , 3814},
	{59 , 3806},
	{61 , 3800},
	{63 , 3794},
	{64 , 3789},
	{66 , 3785},
	{68 , 3781},
	{70 , 3778},
	{71 , 3775},
	{73 , 3772},
	{75 , 3768},
	{77 , 3765},
	{78 , 3760},
	{80 , 3755},
	{82 , 3749},
	{84 , 3743},
	{85 , 3735},
	{87 , 3727},
	{89 , 3719},
	{91 , 3710},
	{92 , 3704},
	{94 , 3698},
	{95 , 3695},
	{96 , 3693},
	{96 , 3691},
	{97 , 3689},
	{97 , 3687},
	{98 , 3685},
	{98 , 3683},
	{98 , 3682},
	{99 , 3680},
	{99 , 3679},
	{99 , 3677},
	{100 , 3675},
	{100 , 3673},
	{100 , 3673},
	{100 , 3673},
	{100 , 3673},
	{100 , 3673},
	{100 , 3673},
	{100 , 3673},
	{100 , 3691},
	{100 , 3691},
	{100 , 3691}

};      
        
// T1 0C 
BATTERY_PROFILE_STRUC battery_profile_t1[] =
{
	{0 , 4304},
	{2 , 4268},
	{4 , 4245},
	{5 , 4225},
	{7 , 4206},
	{9 , 4187},
	{11 , 4169},
	{13 , 4151},
	{14 , 4134},
	{16 , 4117},
	{18 , 4100},
	{20 , 4085},
	{21 , 4071},
	{23 , 4054},
	{25 , 4033},
	{27 , 4012},
	{29 , 3995},
	{30 , 3980},
	{32 , 3965},
	{34 , 3949},
	{36 , 3933},
	{38 , 3918},
	{39 , 3903},
	{41 , 3889},
	{43 , 3877},
	{45 , 3867},
	{47 , 3857},
	{48 , 3848},
	{50 , 3840},
	{52 , 3833},
	{54 , 3825},
	{55 , 3818},
	{57 , 3812},
	{59 , 3807},
	{61 , 3801},
	{63 , 3795},
	{64 , 3790},
	{66 , 3786},
	{68 , 3782},
	{70 , 3778},
	{72 , 3775},
	{73 , 3771},
	{75 , 3767},
	{77 , 3761},
	{79 , 3754},
	{80 , 3745},
	{82 , 3736},
	{84 , 3724},
	{86 , 3712},
	{88 , 3703},
	{89 , 3698},
	{91 , 3695},
	{93 , 3690},
	{95 , 3675},
	{97 , 3621},
	{98 , 3534},
	{99 , 3493},
	{99 , 3469},
	{99 , 3450},
	{99 , 3436},
	{100 , 3424},
	{100 , 3413},
	{100 , 3406},
	{100 , 3400},
	{100 , 3394},
	{100 , 3390},
	{100 , 3386},
	{100 , 3383},
	{100 , 3383},
	{100 , 3383},
	{100 , 3383},
	{100 , 3383},
	{100 , 3383},
	{100 , 3383},
	{100 , 3383},
	{100 , 3383},
	{100 , 3383}
};           

// T2 25C
BATTERY_PROFILE_STRUC battery_profile_t2[] =
{
	{0 , 4333},
	{2 , 4311},
	{3 , 4292},
	{5 , 4272},
	{7 , 4253},
	{8 , 4235},
	{10 , 4216},
	{12 , 4198},
	{13 , 4180},
	{15 , 4162},
	{17 , 4145},
	{18 , 4127},
	{20 , 4110},
	{21 , 4094},
	{23 , 4078},
	{25 , 4062},
	{26 , 4047},
	{28 , 4031},
	{30 , 4016},
	{31 , 4002},
	{33 , 3989},
	{35 , 3976},
	{36 , 3964},
	{38 , 3951},
	{40 , 3937},
	{41 , 3921},
	{43 , 3903},
	{45 , 3886},
	{46 , 3872},
	{48 , 3862},
	{50 , 3852},
	{51 , 3844},
	{53 , 3835},
	{54 , 3828},
	{56 , 3822},
	{58 , 3815},
	{59 , 3809},
	{61 , 3803},
	{63 , 3798},
	{64 , 3793},
	{66 , 3789},
	{68 , 3784},
	{69 , 3780},
	{71 , 3776},
	{73 , 3772},
	{74 , 3768},
	{76 , 3763},
	{78 , 3755},
	{79 , 3748},
	{81 , 3742},
	{83 , 3734},
	{84 , 3722},
	{86 , 3713},
	{87 , 3698},
	{89 , 3691},
	{91 , 3689},
	{92 , 3687},
	{94 , 3684},
	{96 , 3670},
	{97 , 3607},
	{99 , 3504},
	{100 , 3324},
	{100 , 3298},
	{100 , 3286},
	{100 , 3281},
	{100 , 3277},
	{100 , 3275},
	{100 , 3274},
	{100 , 3274},
	{100 , 3274},
	{100 , 3274},
	{100 , 3274},
	{100 , 3274},
	{100 , 3274},
	{100 , 3274},
	{100 , 3274},
	{100 , 3274}
};     

// T3 50C
BATTERY_PROFILE_STRUC battery_profile_t3[] =
{
	{0 , 4338},
	{2 , 4319},
	{3 , 4301},
	{5 , 4283},
	{7 , 4264},
	{8 , 4245},
	{10 , 4227},
	{12 , 4209},
	{14 , 4191},
	{15 , 4172},
	{17 , 4154},
	{19 , 4137},
	{20 , 4120},
	{22 , 4103},
	{24 , 4087},
	{25 , 4070},
	{27 , 4055},
	{29 , 4039},
	{30 , 4024},
	{32 , 4010},
	{34 , 3996},
	{36 , 3982},
	{37 , 3968},
	{39 , 3955},
	{41 , 3938},
	{42 , 3919},
	{44 , 3900},
	{46 , 3887},
	{47 , 3875},
	{49 , 3865},
	{51 , 3856},
	{53 , 3847},
	{54 , 3839},
	{56 , 3831},
	{58 , 3824},
	{59 , 3817},
	{61 , 3810},
	{63 , 3804},
	{64 , 3798},
	{66 , 3792},
	{68 , 3788},
	{69 , 3782},
	{71 , 3772},
	{73 , 3761},
	{74 , 3754},
	{76 , 3746},
	{78 , 3739},
	{80 , 3731},
	{81 , 3724},
	{83 , 3715},
	{85 , 3703},
	{86 , 3693},
	{88 , 3679},
	{90 , 3644},
	{91 , 3675},
	{93 , 3673},
	{95 , 3667},
	{96 , 3692},
	{98 , 3550},
	{100 , 3420},
	{101 , 3285},
	{101 , 3272},
	{101 , 3268},
	{101 , 3266},
	{101 , 3264},
	{101 , 3264},
	{100 , 3263},
	{100 , 3263},
	{100 , 3263},
	{100 , 3263},
	{100 , 3263},
	{100 , 3263},
	{100 , 3263},
	{100 , 3263},
	{100 , 3263},
	{100 , 3263},
	{100 , 3263}
};           

// battery profile for actual temperature. The size should be the same as T1, T2 and T3
BATTERY_PROFILE_STRUC battery_profile_temperature[] =
{
  {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

// ============================================================
// <Rbat, Battery_Voltage> Table
// ============================================================
// T0 -10C
R_PROFILE_STRUC r_profile_t0[] =
{
	{653 , 4328},
	{195 , 4307},
	{195 , 4287},
	{200 , 4269},
	{200 , 4250},
	{203 , 4232},
	{203 , 4213},
	{203 , 4195},
	{205 , 4177},
	{208 , 4160},
	{208 , 4142},
	{210 , 4125},
	{213 , 4108},
	{215 , 4092},
	{223 , 4078},
	{513 , 4059},
	{763 , 4027},
	{768 , 4000},
	{758 , 3977},
	{760 , 3961},
	{763 , 3948},
	{763 , 3935},
	{763 , 3923},
	{760 , 3910},
	{758 , 3898},
	{758 , 3887},
	{760 , 3876},
	{760 , 3865},
	{763 , 3856},
	{765 , 3846},
	{770 , 3838},
	{773 , 3829},
	{775 , 3821},
	{783 , 3814},
	{783 , 3806},
	{790 , 3800},
	{795 , 3794},
	{800 , 3789},
	{810 , 3785},
	{815 , 3781},
	{828 , 3778},
	{843 , 3775},
	{860 , 3772},
	{878 , 3768},
	{900 , 3765},
	{923 , 3760},
	{948 , 3755},
	{975 , 3749},
	{1003 , 3743},
	{1033 , 3735},
	{1065 , 3727},
	{1103 , 3719},
	{1143 , 3710},
	{1198 , 3704},
	{1235 , 3698},
	{1238 , 3695},
	{1235 , 3693},
	{1230 , 3691},
	{1225 , 3689},
	{1220 , 3687},
	{1215 , 3685},
	{1213 , 3683},
	{1208 , 3682},
	{1203 , 3680},
	{1200 , 3679},
	{1198 , 3677},
	{1190 , 3675},
	{1185 , 3673},
	{1185 , 3673},
	{1185 , 3673},
	{1185 , 3673},
	{1185 , 3673},
	{1185 , 3673},
	{1185 , 3673},
	{1230 , 3691},
	{1230 , 3691},
	{1230 , 3691}
};      

// T1 0C
R_PROFILE_STRUC r_profile_t1[] =
{
	{363 , 4304},
	{363 , 4268},
	{378 , 4245},
	{385 , 4225},
	{393 , 4206},
	{398 , 4187},
	{403 , 4169},
	{408 , 4151},
	{415 , 4134},
	{418 , 4117},
	{423 , 4100},
	{428 , 4085},
	{438 , 4071},
	{443 , 4054},
	{440 , 4033},
	{438 , 4012},
	{433 , 3995},
	{433 , 3980},
	{428 , 3965},
	{420 , 3949},
	{413 , 3933},
	{408 , 3918},
	{403 , 3903},
	{400 , 3889},
	{398 , 3877},
	{400 , 3867},
	{403 , 3857},
	{403 , 3848},
	{408 , 3840},
	{413 , 3833},
	{413 , 3825},
	{415 , 3818},
	{420 , 3812},
	{425 , 3807},
	{428 , 3801},
	{428 , 3795},
	{430 , 3790},
	{435 , 3786},
	{438 , 3782},
	{440 , 3778},
	{445 , 3775},
	{450 , 3771},
	{460 , 3767},
	{468 , 3761},
	{478 , 3754},
	{488 , 3745},
	{503 , 3736},
	{515 , 3724},
	{530 , 3712},
	{550 , 3703},
	{578 , 3698},
	{618 , 3695},
	{668 , 3690},
	{723 , 3675},
	{755 , 3621},
	{790 , 3534},
	{735 , 3493},
	{675 , 3469},
	{628 , 3450},
	{593 , 3436},
	{563 , 3424},
	{535 , 3413},
	{515 , 3406},
	{503 , 3400},
	{490 , 3394},
	{478 , 3390},
	{470 , 3386},
	{463 , 3383},
	{460 , 3383},
	{460 , 3383},
	{460 , 3383},
	{460 , 3383},
	{460 , 3383},
	{460 , 3383},
	{460 , 3383},
	{460 , 3383},
	{460 , 3383}
};     

// T2 25C
R_PROFILE_STRUC r_profile_t2[] =
{
	{195 , 4333},
	{195 , 4311},
	{200 , 4292},
	{198 , 4272},
	{198 , 4253},
	{203 , 4235},
	{203 , 4216},
	{205 , 4198},
	{205 , 4180},
	{205 , 4162},
	{208 , 4145},
	{208 , 4127},
	{208 , 4110},
	{215 , 4094},
	{218 , 4078},
	{218 , 4062},
	{223 , 4047},
	{225 , 4031},
	{228 , 4016},
	{230 , 4002},
	{235 , 3989},
	{240 , 3976},
	{245 , 3964},
	{245 , 3951},
	{245 , 3937},
	{238 , 3921},
	{225 , 3903},
	{210 , 3886},
	{203 , 3872},
	{203 , 3862},
	{200 , 3852},
	{203 , 3844},
	{200 , 3835},
	{203 , 3828},
	{205 , 3822},
	{205 , 3815},
	{205 , 3809},
	{208 , 3803},
	{208 , 3798},
	{210 , 3793},
	{213 , 3789},
	{210 , 3784},
	{213 , 3780},
	{213 , 3776},
	{210 , 3772},
	{210 , 3768},
	{208 , 3763},
	{203 , 3755},
	{198 , 3748},
	{200 , 3742},
	{203 , 3734},
	{200 , 3722},
	{205 , 3713},
	{203 , 3698},
	{205 , 3691},
	{208 , 3689},
	{215 , 3687},
	{225 , 3684},
	{233 , 3670},
	{230 , 3607},
	{255 , 3504},
	{310 , 3324},
	{248 , 3298},
	{218 , 3286},
	{203 , 3281},
	{195 , 3277},
	{193 , 3275},
	{188 , 3274},
	{188 , 3274},
	{188 , 3274},
	{188 , 3274},
	{188 , 3274},
	{188 , 3274},
	{188 , 3274},
	{188 , 3274},
	{188 , 3274},
	{188 , 3274}
}; 

// T3 50C
R_PROFILE_STRUC r_profile_t3[] =
{
	{170 , 4338},
	{170 , 4319},
	{173 , 4301},
	{178 , 4283},
	{175 , 4264},
	{175 , 4245},
	{178 , 4227},
	{178 , 4209},
	{180 , 4191},
	{178 , 4172},
	{178 , 4154},
	{180 , 4137},
	{180 , 4120},
	{180 , 4103},
	{183 , 4087},
	{183 , 4070},
	{185 , 4055},
	{185 , 4039},
	{188 , 4024},
	{190 , 4010},
	{195 , 3996},
	{198 , 3982},
	{200 , 3968},
	{208 , 3955},
	{205 , 3938},
	{193 , 3919},
	{180 , 3900},
	{180 , 3887},
	{175 , 3875},
	{178 , 3865},
	{178 , 3856},
	{178 , 3847},
	{178 , 3839},
	{178 , 3831},
	{180 , 3824},
	{180 , 3817},
	{180 , 3810},
	{183 , 3804},
	{183 , 3798},
	{183 , 3792},
	{190 , 3788},
	{190 , 3782},
	{183 , 3772},
	{178 , 3761},
	{180 , 3754},
	{178 , 3746},
	{178 , 3739},
	{175 , 3731},
	{178 , 3724},
	{178 , 3715},
	{175 , 3703},
	{180 , 3693},
	{173 , 3679},
	{95 , 3644},
	{180 , 3675},
	{188 , 3673},
	{198 , 3667},
	{345 , 3692},
	{198 , 3550},
	{205 , 3420},
	{215 , 3285},
	{183 , 3272},
	{173 , 3268},
	{168 , 3266},
	{163 , 3264},
	{163 , 3264},
	{160 , 3263},
	{160 , 3263},
	{163 , 3263},
	{163 , 3263},
	{163 , 3263},
	{163 , 3263},
	{163 , 3263},
	{163 , 3263},
	{163 , 3263},
	{163 , 3263},
	{163 , 3263}
}; 

// r-table profile for actual temperature. The size should be the same as T1, T2 and T3
R_PROFILE_STRUC r_profile_temperature[] =
{
  {0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 }, 
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },  
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 },
	{0  , 0 }
};    

// ============================================================
// function prototype
// ============================================================
int fgauge_get_saddles(void);
BATTERY_PROFILE_STRUC_P fgauge_get_profile(kal_uint32 temperature);

int fgauge_get_saddles_r_table(void);
R_PROFILE_STRUC_P fgauge_get_profile_r_table(kal_uint32 temperature);

#endif	//#ifndef _CUST_BATTERY_METER_TABLE_H

